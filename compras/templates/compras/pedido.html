{% extends "compras/layout.html" %}

{% block body %}
<div class='center_box'>
    <div class="box_padrao">
        <h4>Fazer pedido:</h4>
        <br>
        <form action="{% url 'pedido' %}" method="post">
            {% csrf_token %}
            <div class="form-group">
                <select name="lista" class="selectpicker" data-live-search="true" title="Escolha a lista" required>
                    {% for lista in listas %}
                    {% if request.GET.lista %}
                    {% if lista.id|stringformat:"s" == request.GET.lista %}
                    <option value="{{ lista.id }}" selected="selected">{{ lista.nome }}</option>
                    {% else %}
                    <option value="{{ lista.id }}">{{ lista.nome }}</option>
                    {% endif %}
                    {% else %}
                    <option value="{{ lista.id }}">{{ lista.nome }}</option>
                    {% endif %}
                    {% endfor %}
                </select>
                <br>
                <a href="{% url 'criar' %}">Criar nova lista</a>
            </div>
            <div class="form-group">
                <select name="acompanhamento" class="selectpicker" data-live-search="true" title="Escolha a despensa"
                    required>
                    {% for acompanhamento in acompanhamentos %}
                    <option value="{{ acompanhamento.id }}">{{ acompanhamento.nome }}</option>
                    {% endfor %}
                </select>
                <br>
                <a href="{% url 'criar_acompanhamento' %}">Criar nova despensa</a>
            </div>
            <div class="form-group">
                <select name="endereco" class="selectpicker" data-live-search="true"
                    title="Escolha o endereço de entrega" required>
                    {% for endereco in enderecos %}
                    <option value="{{ endereco.id }}">{{ endereco }}</option>
                    {% endfor %}
                </select>
                <br>
                <a href="{% url 'endereco' %}">Adicionar endereço</a>
            </div>
            <div class="form-group">
                <select name="supermercado" class="selectpicker" data-live-search="true" title="Escolha o supermercado"
                    required>
                    {% for supermercado in supermercados %}
                    <option value="{{ supermercado.id }}">{{ supermercado }}</option>
                    {% endfor %}
                </select>
            </div>
            <input class="btn btn-primary" type="submit" value="Prosseguir">
        </form>
    </div>
</div>
{% endblock %}